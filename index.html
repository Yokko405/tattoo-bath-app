<!DOCTYPE html>
<html lang="ja">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="theme-color" content="#4a90e2" />
    <meta name="description" content="Âà∫ÈùíOK„ÅÆÂÖ•Êµ¥ÊñΩË®≠„ÇíÊé¢„Åõ„Çã„Ç¢„Éó„É™" />
    
    <title>Âà∫ÈùíOK ÂÖ•Êµ¥ÊñΩË®≠Ê§úÁ¥¢ üõÅ</title>
    
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    
    <!-- Google Maps API„ÅØÂãïÁöÑ„Å´Ë™≠„ÅøËæº„ÇÄÔºàAPI„Ç≠„Éº„ÅåÂøÖË¶Å„Å™Â†¥Âêà„ÅØË®≠ÂÆö„Åó„Å¶„Åè„Å†„Åï„ÅÑÔºâ -->
    <!-- ‰ΩøÁî®„Åô„ÇãÂ†¥Âêà„ÅØ„ÄÅ‰ª•‰∏ã„ÅÆ„Ç≥„É°„É≥„Éà„ÇíÂ§ñ„Åó„Å¶YOUR_API_KEY„ÇíÂÆüÈöõ„ÅÆ„Ç≠„Éº„Å´ÁΩÆ„ÅçÊèõ„Åà„Å¶„Åè„Å†„Åï„ÅÑ -->
    <!-- <script async defer src="https://maps.googleapis.com/maps/api/js?key=YOUR_API_KEY&callback=initMap&libraries=places"></script> -->
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Hiragino Sans', 'Hiragino Kaku Gothic ProN', 'Yu Gothic', sans-serif;
            background: linear-gradient(135deg, #e3f2fd 0%, #bbdefb 50%, #90caf9 100%);
            min-height: 100vh;
            padding: 0;
            overflow-x: hidden;
        }

        #root {
            max-width: 480px;
            margin: 0 auto;
            min-height: 100vh;
            background: white;
            box-shadow: 0 0 40px rgba(74, 144, 226, 0.1);
        }

        /* „Éò„ÉÉ„ÉÄ„Éº */
        .header {
            background: linear-gradient(135deg, #4a90e2 0%, #357abd 100%);
            color: white;
            padding: 20px;
            text-align: center;
            border-radius: 0 0 30px 30px;
            box-shadow: 0 4px 20px rgba(74, 144, 226, 0.3);
        }

        .header h1 {
            font-size: 22px;
            margin-bottom: 5px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.2);
        }

        .header p {
            font-size: 12px;
            opacity: 0.9;
        }

        /* Ê§úÁ¥¢„Ç®„É™„Ç¢ */
        .search-area {
            padding: 20px;
            background: #f5f5f5;
            border-bottom: 2px solid #e0e0e0;
        }

        .search-box {
            display: flex;
            gap: 10px;
            margin-bottom: 15px;
        }

        .search-input {
            flex: 1;
            padding: 12px 16px;
            border: 2px solid #e0e0e0;
            border-radius: 25px;
            font-size: 14px;
            outline: none;
            transition: border-color 0.3s;
        }

        .search-input:focus {
            border-color: #4a90e2;
        }

        .search-button {
            padding: 12px 24px;
            background: linear-gradient(135deg, #4a90e2 0%, #357abd 100%);
            color: white;
            border: none;
            border-radius: 25px;
            font-weight: bold;
            cursor: pointer;
            box-shadow: 0 4px 10px rgba(74, 144, 226, 0.3);
            transition: transform 0.2s;
        }

        .search-button:active {
            transform: scale(0.95);
        }

        .filter-section {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
        }

        .filter-button {
            padding: 8px 16px;
            background: white;
            border: 2px solid #4a90e2;
            border-radius: 20px;
            font-size: 12px;
            color: #4a90e2;
            cursor: pointer;
            transition: all 0.3s;
        }

        .filter-button.active {
            background: #4a90e2;
            color: white;
        }

        /* „Çø„Éñ */
        .tabs {
            display: flex;
            background: #f5f5f5;
            border-bottom: 2px solid #e0e0e0;
        }

        .tab {
            flex: 1;
            padding: 15px;
            text-align: center;
            border: none;
            background: transparent;
            cursor: pointer;
            font-size: 14px;
            font-weight: 500;
            color: #999;
            transition: all 0.3s;
        }

        .tab.active {
            color: #4a90e2;
            background: white;
            border-bottom: 3px solid #4a90e2;
        }

        /* ÊñΩË®≠„É™„Çπ„Éà */
        .facilities-list {
            padding: 20px;
            max-height: calc(100vh - 300px);
            overflow-y: auto;
        }

        .facility-card {
            background: white;
            border-radius: 20px;
            padding: 20px;
            margin-bottom: 15px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.08);
            border: 2px solid #e0e0e0;
            transition: all 0.3s;
            cursor: pointer;
        }

        .facility-card:active {
            transform: scale(0.98);
        }

        .facility-card:hover {
            border-color: #4a90e2;
            box-shadow: 0 6px 20px rgba(74, 144, 226, 0.2);
        }

        .facility-header {
            display: flex;
            justify-content: space-between;
            align-items: start;
            margin-bottom: 10px;
        }

        .facility-name {
            font-size: 18px;
            font-weight: bold;
            color: #333;
            margin-bottom: 5px;
        }

        .tattoo-badge {
            display: inline-block;
            padding: 4px 10px;
            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a6f 100%);
            color: white;
            border-radius: 12px;
            font-size: 10px;
            font-weight: bold;
            white-space: nowrap;
        }

        .facility-info {
            font-size: 13px;
            color: #666;
            margin-bottom: 8px;
        }

        .facility-info-item {
            display: flex;
            align-items: center;
            gap: 5px;
            margin-bottom: 5px;
        }

        .facility-tags {
            display: flex;
            gap: 8px;
            flex-wrap: wrap;
            margin-top: 10px;
        }

        .tag {
            padding: 4px 10px;
            background: #e3f2fd;
            color: #4a90e2;
            border-radius: 12px;
            font-size: 11px;
        }

        /* Âú∞Âõ≥„Ç®„É™„Ç¢ */
        .map-container {
            width: 100%;
            height: 400px;
            background: #e0e0e0;
            position: relative;
        }

        .map-placeholder {
            width: 100%;
            height: 100%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #999;
            font-size: 14px;
            background: #f5f5f5;
        }

        /* ÊñΩË®≠Ë©≥Á¥∞„É¢„Éº„ÉÄ„É´ */
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.5);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 1000;
            padding: 20px;
        }

        .modal-content {
            background: white;
            border-radius: 20px;
            padding: 25px;
            max-width: 400px;
            width: 100%;
            max-height: 80vh;
            overflow-y: auto;
            position: relative;
        }

        .modal-close {
            position: absolute;
            top: 15px;
            right: 15px;
            background: #f5f5f5;
            border: none;
            width: 32px;
            height: 32px;
            border-radius: 50%;
            cursor: pointer;
            font-size: 18px;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: background 0.3s;
        }

        .modal-close:hover {
            background: #e0e0e0;
        }

        .modal-title {
            font-size: 22px;
            font-weight: bold;
            color: #333;
            margin-bottom: 15px;
            padding-right: 40px;
        }

        .modal-section {
            margin-bottom: 20px;
        }

        .modal-section-title {
            font-size: 14px;
            font-weight: bold;
            color: #4a90e2;
            margin-bottom: 8px;
        }

        .modal-section-content {
            font-size: 14px;
            color: #666;
            line-height: 1.6;
        }

        .modal-map {
            width: 100%;
            height: 200px;
            border-radius: 10px;
            margin-top: 10px;
            background: #f5f5f5;
        }

        /* Á©∫„ÅÆÁä∂ÊÖã */
        .empty-state {
            text-align: center;
            padding: 60px 20px;
            color: #999;
        }

        .empty-state-icon {
            font-size: 64px;
            margin-bottom: 20px;
        }

        .empty-state-text {
            font-size: 16px;
        }

        /* „É≠„Éº„Éá„Ç£„É≥„Ç∞ */
        .loading {
            text-align: center;
            padding: 40px;
            color: #999;
        }

        /* „Éï„ÉÉ„Çø„Éº */
        .footer {
            text-align: center;
            padding: 20px;
            color: #999;
            font-size: 12px;
            border-top: 1px solid #e0e0e0;
        }
    </style>
</head>

<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect } = React;

        // Cloudflare Workers„ÅÆURL
        const WORKER_URL = 'https://tattoo-bath-maps-proxy.hiyume-2.workers.dev';

        // Ê∏©Êµ¥ÊñΩË®≠„Éá„Éº„Çø„Éô„Éº„Çπ
        const facilitiesDatabase = [
          {
            "name": "ÁêâÁêÉÊ∏©Ê≥â Ê≥¢‰πã‰∏ä„ÅÆÊπØ",
            "prefecture": "Ê≤ñÁ∏ÑÁúå",
            "city": "ÈÇ£Ë¶áÂ∏ÇËæª2-25-1",
            "category": "Ê∏©Ê≥â",
            "tattoo_condition": "Áî≥ÂëäÊõ∏Ë®òÂÖ•„ÅßÂà©Áî®ÂèØ",
            "phone": "050-1722-5762",
            "official_url": "https://www.resorts.co.jp/sansuinaha",
            "source_type": "ÂÖ¨Âºè",
            "user_reported": false
          },
          {
            "name": "„Åª„Å£„Åü„Çâ„Åã„ÅóÊ∏©Ê≥â „ÅÇ„Å£„Å°„ÅÆÊπØ„Éª„Åì„Å£„Å°„ÅÆÊπØ",
            "prefecture": "Â±±Ê¢®Áúå",
            "city": "Â±±Ê¢®Â∏Ç",
            "category": "Ê∏©Ê≥â",
            "tattoo_condition": "Áâπ„Å´Âà∂Èôê„Å™„Åó",
            "phone": "N/A",
            "official_url": "N/A",
            "source_type": "ÂÖ¨Âºè",
            "user_reported": false
          },
          {
            "name": "Á©∫Â∫≠Ê∏©Ê≥â OSAKA BAY TOWER",
            "prefecture": "Â§ßÈò™Â∫ú",
            "city": "Â§ßÈò™Â∏ÇÊ∏ØÂå∫",
            "category": "Ê∏©Ê≥â",
            "tattoo_condition": "Áâπ„Å´Âà∂Èôê„Å™„Åó",
            "phone": "N/A",
            "official_url": "N/A",
            "source_type": "ÂÖ¨Âºè",
            "user_reported": false
          },
          {
            "name": "YUMORI ONSEN HOSTEL",
            "prefecture": "Á¶èÂ≥∂Áúå",
            "city": "Á¶èÂ≥∂Â∏ÇÂúüÊπØÊ∏©Ê≥â",
            "category": "Ê∏©Ê≥â",
            "tattoo_condition": "Áâπ„Å´Âà∂Èôê„Å™„Åó",
            "phone": "N/A",
            "official_url": "N/A",
            "source_type": "ÂÖ¨Âºè",
            "user_reported": false
          },
          {
            "name": "ÊàêÁî∞„ÅÆÂëΩÊ≥â Â§ßÂíå„ÅÆÊπØ",
            "prefecture": "ÂçÉËëâÁúå",
            "city": "ÊàêÁî∞Â∏Ç",
            "category": "Ê∏©Ê≥â",
            "tattoo_condition": "Áâπ„Å´Âà∂Èôê„Å™„Åó",
            "phone": "N/A",
            "official_url": "N/A",
            "source_type": "ÂÖ¨Âºè",
            "user_reported": false
          },
          {
            "name": "Ê£Æ„ÅÆ„Å™„Åã„ÅÆÊ∏©Ê≥â „Å™„Çì„Å∂„ÅÆÊπØ",
            "prefecture": "Â±±Ê¢®Áúå",
            "city": "ÂçóÂ∑®Êë©ÈÉ°ÂçóÈÉ®Áî∫",
            "category": "Ê∏©Ê≥â",
            "tattoo_condition": "Áâπ„Å´Âà∂Èôê„Å™„Åó",
            "phone": "N/A",
            "official_url": "N/A",
            "source_type": "ÂÖ¨Âºè",
            "user_reported": false
          },
          {
            "name": "THE PROLABO SAUNA",
            "prefecture": "Êù±‰∫¨ÈÉΩ",
            "city": "Ê∏ØÂå∫",
            "category": "„Çµ„Ç¶„Éä",
            "tattoo_condition": "Áâπ„Å´Âà∂Èôê„Å™„Åó",
            "phone": "N/A",
            "official_url": "N/A",
            "source_type": "ÂÖ¨Âºè",
            "user_reported": false
          },
          {
            "name": "Â§©ÁÑ∂Ê∏©Ê≥â Ê≥âÂ§©Á©∫„ÅÆÊπØ ÁæΩÁî∞Á©∫Ê∏Ø",
            "prefecture": "Êù±‰∫¨ÈÉΩ",
            "city": "Â§ßÁî∞Âå∫",
            "category": "Ê∏©Ê≥â",
            "tattoo_condition": "Áâπ„Å´Âà∂Èôê„Å™„Åó",
            "phone": "N/A",
            "official_url": "N/A",
            "source_type": "ÂÖ¨Âºè",
            "user_reported": false
          },
          {
            "name": "ÈÅì„ÅÆÈßÖ„ÇÜ„Äú„Å±„Çã„ÅÆ„Åò„Çä",
            "prefecture": "ÂÆÆÂ¥éÁúå",
            "city": "Â∞èÊûóÂ∏Ç",
            "category": "Ê∏©Ê≥â",
            "tattoo_condition": "Áâπ„Å´Âà∂Èôê„Å™„Åó",
            "phone": "N/A",
            "official_url": "N/A",
            "source_type": "ÂÖ¨Âºè",
            "user_reported": false
          },
          {
            "name": "Â••„ÇÄ„Åï„ÅóÊóÖÈ§®",
            "prefecture": "ÂüºÁéâÁúå",
            "city": "È£ØËÉΩÂ∏Ç",
            "category": "„Éõ„ÉÜ„É´",
            "tattoo_condition": "Áâπ„Å´Âà∂Èôê„Å™„Åó",
            "phone": "N/A",
            "official_url": "N/A",
            "source_type": "ÂÖ¨Âºè",
            "user_reported": false
          },
          {
            "name": "HOTEL CLAD",
            "prefecture": "ÈùôÂ≤°Áúå",
            "city": "Âæ°ÊÆøÂ†¥Â∏Ç",
            "category": "„Éõ„ÉÜ„É´",
            "tattoo_condition": "Áâπ„Å´Âà∂Èôê„Å™„Åó",
            "phone": "N/A",
            "official_url": "N/A",
            "source_type": "ÂÖ¨Âºè",
            "user_reported": false
          },
          {
            "name": "„Å≤„Çâ„ÇÜ„ÅÆÊ£Æ",
            "prefecture": "Â≤êÈòúÁúå",
            "city": "È´òÂ±±Â∏ÇÂ••È£õÈ®®Ê∏©Ê≥âÈÉ∑",
            "category": "Ê∏©Ê≥â",
            "tattoo_condition": "Áâπ„Å´Âà∂Èôê„Å™„Åó",
            "phone": "N/A",
            "official_url": "N/A",
            "source_type": "ÂÖ¨Âºè",
            "user_reported": false
          },
          {
            "name": "ÂçÉ‰∫∫È¢®ÂëÇ ÈáëË∞∑ÊóÖÈ§®",
            "prefecture": "ÈùôÂ≤°Áúå",
            "city": "‰∏ãÁî∞Â∏ÇËìÆÂè∞ÂØ∫Ê∏©Ê≥â",
            "category": "Ê∏©Ê≥â",
            "tattoo_condition": "Áâπ„Å´Âà∂Èôê„Å™„Åó",
            "phone": "N/A",
            "official_url": "N/A",
            "source_type": "ÂÖ¨Âºè",
            "user_reported": false
          },
          {
            "name": "„É©„É†„Å°„ÇÉ„Çì„Éë„Éº„ÇØ Ê¶äÂéüÊ∏©Ê≥â ÊπØ„ÅÆÁÄ¨",
            "prefecture": "‰∏âÈáçÁúå",
            "city": "Ê¥•Â∏ÇÊ¶äÂéüÁî∫",
            "category": "Ê∏©Ê≥â",
            "tattoo_condition": "Áâπ„Å´Âà∂Èôê„Å™„Åó",
            "phone": "N/A",
            "official_url": "N/A",
            "source_type": "ÂÖ¨Âºè",
            "user_reported": false
          },
          {
            "name": "Á´πÊûóÂ∫µ „Åø„Åö„ÅÆ",
            "prefecture": "ÈùôÂ≤°Áúå",
            "city": "ÁÜ±Êµ∑Â∏ÇÁ∂≤‰ª£Ê∏©Ê≥â",
            "category": "„Éõ„ÉÜ„É´",
            "tattoo_condition": "Áâπ„Å´Âà∂Èôê„Å™„Åó",
            "phone": "N/A",
            "official_url": "N/A",
            "source_type": "ÂÖ¨Âºè",
            "user_reported": false
          },
          {
            "name": "„Éâ„Ç∑„Éº‰∫îÂèçÁî∞",
            "prefecture": "Êù±‰∫¨ÈÉΩ",
            "city": "ÂìÅÂ∑ùÂå∫",
            "category": "„Çµ„Ç¶„Éä",
            "tattoo_condition": "Áâπ„Å´Âà∂Èôê„Å™„Åó",
            "phone": "N/A",
            "official_url": "N/A",
            "source_type": "ÂÖ¨Âºè",
            "user_reported": false
          },
          {
            "name": "„Å®„Åç„Åü„Åæ„Å≤„Åø„Å§„Åç„Å° COMORIVER",
            "prefecture": "ÂüºÁéâÁúå",
            "city": "ÊØî‰ºÅÈÉ°„Å®„Åç„Åå„ÇèÁî∫",
            "category": "Ê∏©Ê≥â",
            "tattoo_condition": "Áâπ„Å´Âà∂Èôê„Å™„Åó",
            "phone": "N/A",
            "official_url": "N/A",
            "source_type": "ÂÖ¨Âºè",
            "user_reported": false
          },
          {
            "name": "„É¨„ÉÉ„ÇØ„Çπ„Ç§„É≥Â∑ùÂ¥é",
            "prefecture": "Á•ûÂ•àÂ∑ùÁúå",
            "city": "Â∑ùÂ¥éÂ∏ÇÂ∑ùÂ¥éÂå∫",
            "category": "„Éõ„ÉÜ„É´",
            "tattoo_condition": "Áâπ„Å´Âà∂Èôê„Å™„Åó",
            "phone": "N/A",
            "official_url": "N/A",
            "source_type": "ÂÖ¨Âºè",
            "user_reported": false
          },
          {
            "name": "„Ç´„Éó„Çª„É´„Éó„É©„ÇπÊ®™Êµú",
            "prefecture": "Á•ûÂ•àÂ∑ùÁúå",
            "city": "Ê®™ÊµúÂ∏ÇË•øÂå∫",
            "category": "„Éõ„ÉÜ„É´",
            "tattoo_condition": "Áâπ„Å´Âà∂Èôê„Å™„Åó",
            "phone": "N/A",
            "official_url": "N/A",
            "source_type": "ÂÖ¨Âºè",
            "user_reported": false
          },
          {
            "name": "„Çπ„Éë„Éª„Ç¢„É´„Éó„Çπ",
            "prefecture": "ÂØåÂ±±Áúå",
            "city": "ÂØåÂ±±Â∏Ç",
            "category": "„Çπ„Éº„Éë„ÉºÈä≠ÊπØ",
            "tattoo_condition": "Áâπ„Å´Âà∂Èôê„Å™„Åó",
            "phone": "N/A",
            "official_url": "N/A",
            "source_type": "ÂÖ¨Âºè",
            "user_reported": false
          },
          {
            "name": "„Éõ„ÉÜ„É´„Éí„É´„Éà„ÉÉ„Éó",
            "prefecture": "Êù±‰∫¨ÈÉΩ",
            "city": "ÊùøÊ©ãÂå∫",
            "category": "„Éõ„ÉÜ„É´",
            "tattoo_condition": "Áâπ„Å´Âà∂Èôê„Å™„Åó",
            "phone": "N/A",
            "official_url": "N/A",
            "source_type": "ÂÖ¨Âºè",
            "user_reported": false
          },
          {
            "name": "SAUNALAND ASAKUSAÔºà„Çµ„Ç¶„Éä„É©„É≥„ÉâÊµÖËçâÔºâ",
            "prefecture": "Êù±‰∫¨ÈÉΩ",
            "city": "Âè∞Êù±Âå∫",
            "category": "„Çµ„Ç¶„Éä",
            "tattoo_condition": "Áâπ„Å´Âà∂Èôê„Å™„Åó",
            "phone": "N/A",
            "official_url": "N/A",
            "source_type": "ÂÖ¨Âºè",
            "user_reported": false
          },
          {
            "name": "The Sauna",
            "prefecture": "Èï∑ÈáéÁúå",
            "city": "‰∏äÊ∞¥ÂÜÖÈÉ°‰ø°ÊøÉÁî∫",
            "category": "„Çµ„Ç¶„Éä",
            "tattoo_condition": "Áâπ„Å´Âà∂Èôê„Å™„Åó",
            "phone": "N/A",
            "official_url": "N/A",
            "source_type": "ÂÖ¨Âºè",
            "user_reported": false
          },
          {
            "name": "ÂÆåÂÖ®Ë≤∏Âàá ÁßòÂØÜÂü∫Âú∞ ÂÖ®ÂÆ§Ê∏©Ê≥â ÁæéÈ£üÈßÖËøë ÁÜ±Êµ∑Ê∏©Ê≥â„Éè„Ç¶„Çπ",
            "prefecture": "ÈùôÂ≤°Áúå",
            "city": "ÁÜ±Êµ∑Â∏Ç",
            "category": "Ê∏©Ê≥â",
            "tattoo_condition": "Áâπ„Å´Âà∂Èôê„Å™„Åó",
            "phone": "N/A",
            "official_url": "N/A",
            "source_type": "ÂÖ¨Âºè",
            "user_reported": false
          },
          {
            "name": "Â§¢„ÅÆÂÖ¨Ë°ÜÊµ¥Â†¥ ‰∫îËâ≤",
            "prefecture": "Â§ßÈò™Â∫ú",
            "city": "Ë±ä‰∏≠Â∏Ç",
            "category": "Èä≠ÊπØ",
            "tattoo_condition": "Áâπ„Å´Âà∂Èôê„Å™„Åó",
            "phone": "N/A",
            "official_url": "N/A",
            "source_type": "ÂÖ¨Âºè",
            "user_reported": false
          },
          {
            "name": "‰∏ÉÈáåÂ∑ùÊ∏©Ê≥â „ÅÑ„Çç„Çä„ÅÆÂÆø",
            "prefecture": "ÂçÉËëâÁúå",
            "city": "ÂêõÊ¥•Â∏Ç",
            "category": "Ê∏©Ê≥â",
            "tattoo_condition": "Áâπ„Å´Âà∂Èôê„Å™„Åó",
            "phone": "N/A",
            "official_url": "N/A",
            "source_type": "ÂÖ¨Âºè",
            "user_reported": false
          },
          {
            "name": "Â•àËâØÁî∞„ÅÆÈáåÊ∏©Ê≥â Â•≥Â∏ù„ÅÆÊπØ",
            "prefecture": "Â±±Ê¢®Áúå",
            "city": "ÂçóÂ∑®Êë©ÈÉ°Êó©Â∑ùÁî∫",
            "category": "Ê∏©Ê≥â",
            "tattoo_condition": "Áâπ„Å´Âà∂Èôê„Å™„Åó",
            "phone": "N/A",
            "official_url": "N/A",
            "source_type": "ÂÖ¨Âºè",
            "user_reported": false
          },
          {
            "name": "ÂüéÂ¥éÊ∏©Ê≥â ‰∏Ä„ÅÆÊπØ",
            "prefecture": "ÂÖµÂ∫´Áúå",
            "city": "Ë±äÂ≤°Â∏ÇÂüéÂ¥éÁî∫",
            "category": "Ê∏©Ê≥â",
            "tattoo_condition": "Áâπ„Å´Âà∂Èôê„Å™„Åó",
            "phone": "N/A",
            "official_url": "N/A",
            "source_type": "ÂÖ¨Âºè",
            "user_reported": false
          },
          {
            "name": "ÁôΩÈ¶¨ÂÖ´ÊñπÊ∏©Ê≥â „Åä„Å≥„Å™„Åü„ÅÆÊπØ",
            "prefecture": "Èï∑ÈáéÁúå",
            "city": "ÂåóÂÆâÊõáÈÉ°ÁôΩÈ¶¨Êùë",
            "category": "Ê∏©Ê≥â",
            "tattoo_condition": "Áâπ„Å´Âà∂Èôê„Å™„Åó",
            "phone": "N/A",
            "official_url": "N/A",
            "source_type": "ÂÖ¨Âºè",
            "user_reported": false
          },
          {
            "name": "Êà∏Ë∂äÈäÄÂ∫ßÊ∏©Ê≥â",
            "prefecture": "Êù±‰∫¨ÈÉΩ",
            "city": "ÂìÅÂ∑ùÂå∫",
            "category": "Èä≠ÊπØ",
            "tattoo_condition": "Áâπ„Å´Âà∂Èôê„Å™„Åó",
            "phone": "N/A",
            "official_url": "N/A",
            "source_type": "ÂÖ¨Âºè",
            "user_reported": false
          },
          {
            "name": "È¥ª„ÅÆÊπØ",
            "prefecture": "ÂÖµÂ∫´Áúå",
            "city": "Ë±äÂ≤°Â∏ÇÂüéÂ¥éÁî∫",
            "category": "Ê∏©Ê≥â",
            "tattoo_condition": "Áâπ„Å´Âà∂Èôê„Å™„Åó",
            "phone": "N/A",
            "official_url": "N/A",
            "source_type": "ÂÖ¨Âºè",
            "user_reported": false
          },
          {
            "name": "ÂçÉÂπ¥Ê∏©Ê≥â",
            "prefecture": "Á•ûÂ•àÂ∑ùÁúå",
            "city": "Â∑ùÂ¥éÂ∏ÇÈ´òÊ¥•Âå∫",
            "category": "Èä≠ÊπØ",
            "tattoo_condition": "Áâπ„Å´Âà∂Èôê„Å™„Åó",
            "phone": "N/A",
            "official_url": "N/A",
            "source_type": "ÂÖ¨Âºè",
            "user_reported": false
          },
          {
            "name": "Ê°úÈ§®",
            "prefecture": "Êù±‰∫¨ÈÉΩ",
            "city": "Â§ßÁî∞Âå∫",
            "category": "Èä≠ÊπØ",
            "tattoo_condition": "15:30„Åæ„ÅßÂÖ•Êµ¥ÂèØ",
            "phone": "N/A",
            "official_url": "N/A",
            "source_type": "ÂÖ¨Âºè",
            "user_reported": false
          },
          {
            "name": "ÁéâÈÄ†Ê∏©Ê≥â„ÇÜ„Äú„ÇÜ",
            "prefecture": "Â≥∂Ê†πÁúå",
            "city": "ÊùæÊ±üÂ∏ÇÁéâÊπØÁî∫",
            "category": "Ê∏©Ê≥â",
            "tattoo_condition": "Áâπ„Å´Âà∂Èôê„Å™„Åó",
            "phone": "N/A",
            "official_url": "N/A",
            "source_type": "ÂÖ¨Âºè",
            "user_reported": false
          },
          {
            "name": "„ÅØ„Åô„Å¨„ÅæÊ∏©Ê≥â",
            "prefecture": "Êù±‰∫¨ÈÉΩ",
            "city": "Â§ßÁî∞Âå∫",
            "category": "Èä≠ÊπØ",
            "tattoo_condition": "Áâπ„Å´Âà∂Èôê„Å™„Åó",
            "phone": "N/A",
            "official_url": "N/A",
            "source_type": "ÂÖ¨Âºè",
            "user_reported": false
          },
          {
            "name": "Èñ¢Â∏ÇÊùøÂèñÂ∑ùÊ∏©Ê≥â„Éê„Éº„Éá„Çß„Éè„Ç¶„Çπ",
            "prefecture": "Â≤êÈòúÁúå",
            "city": "Èñ¢Â∏ÇÊùøÂèñ",
            "category": "Ê∏©Ê≥â",
            "tattoo_condition": "Áâπ„Å´Âà∂Èôê„Å™„Åó",
            "phone": "N/A",
            "official_url": "N/A",
            "source_type": "ÂÖ¨Âºè",
            "user_reported": false
          },
          {
            "name": "Ë•øÂìÅÂ∑ùÊ∏©Ê≥â ÂÆÆÂüéÊπØ",
            "prefecture": "Êù±‰∫¨ÈÉΩ",
            "city": "ÂìÅÂ∑ùÂå∫",
            "category": "Èä≠ÊπØ",
            "tattoo_condition": "Áâπ„Å´Âà∂Èôê„Å™„Åó",
            "phone": "N/A",
            "official_url": "N/A",
            "source_type": "ÂÖ¨Âºè",
            "user_reported": false
          },
          {
            "name": "Ê®™ÊµúÂ§©ÁÑ∂Ê∏©Ê≥â „Åè„Åï„Å§",
            "prefecture": "Á•ûÂ•àÂ∑ùÁúå",
            "city": "Ê®™ÊµúÂ∏ÇÂçóÂå∫",
            "category": "Ê∏©Ê≥â",
            "tattoo_condition": "Áâπ„Å´Âà∂Èôê„Å™„Åó",
            "phone": "N/A",
            "official_url": "N/A",
            "source_type": "ÂÖ¨Âºè",
            "user_reported": false
          },
          {
            "name": "Ê¢Ö„É∂Â≥∂Êñ∞Áî∞Ê∏©Ê≥â ÈªÑÈáë„ÅÆÊπØ",
            "prefecture": "ÈùôÂ≤°Áúå",
            "city": "ÈùôÂ≤°Â∏ÇËëµÂå∫",
            "category": "Ê∏©Ê≥â",
            "tattoo_condition": "Áâπ„Å´Âà∂Èôê„Å™„Åó",
            "phone": "N/A",
            "official_url": "N/A",
            "source_type": "ÂÖ¨Âºè",
            "user_reported": false
          },
          {
            "name": "ÊπØ„ÅÆÈÉ∑ ÊπØË•øÂ∑ùË¶≥ÂÖâ„Çª„É≥„Çø„Éº",
            "prefecture": "Ê†ÉÊú®Áúå",
            "city": "Êó•ÂÖâÂ∏ÇÊπØË•øÂ∑ù",
            "category": "Ê∏©Ê≥â",
            "tattoo_condition": "Áâπ„Å´Âà∂Èôê„Å™„Åó",
            "phone": "N/A",
            "official_url": "N/A",
            "source_type": "ÂÖ¨Âºè",
            "user_reported": false
          },
          {
            "name": "ÁÄ¨Êà∏Ë∞∑Ê∏©Ê≥â „ÇÜ„Çâ„Åè",
            "prefecture": "ÈùôÂ≤°Áúå",
            "city": "ÈùôÂ≤°Â∏ÇËó§ÊûùÂ∏Ç",
            "category": "Ê∏©Ê≥â",
            "tattoo_condition": "Áâπ„Å´Âà∂Èôê„Å™„Åó",
            "phone": "N/A",
            "official_url": "N/A",
            "source_type": "ÂÖ¨Âºè",
            "user_reported": false
          },
          {
            "name": "ÈùôÂ≤°Â∏ÇÊ∏ÖÊ∞¥Ë•øÈáåÊ∏©Ê≥âÊµ¥Â†¥ „ÇÑ„Åæ„Åõ„Åø„ÅÆÊπØ",
            "prefecture": "ÈùôÂ≤°Áúå",
            "city": "ÈùôÂ≤°Â∏ÇÊ∏ÖÊ∞¥Âå∫",
            "category": "Ê∏©Ê≥â",
            "tattoo_condition": "Áâπ„Å´Âà∂Èôê„Å™„Åó",
            "phone": "N/A",
            "official_url": "N/A",
            "source_type": "ÂÖ¨Âºè",
            "user_reported": false
          },
          {
            "name": "„ÇØ„Ç¢„Éë„É¨„Çπ",
            "prefecture": "ÂçÉËëâÁúå",
            "city": "ËàπÊ©ãÂ∏Ç",
            "category": "Èä≠ÊπØ",
            "tattoo_condition": "Áâπ„Å´Âà∂Èôê„Å™„Åó",
            "phone": "N/A",
            "official_url": "N/A",
            "source_type": "ÂÖ¨Âºè",
            "user_reported": false
          },
          {
            "name": "Âú∞ËîµÊπØ",
            "prefecture": "ÂÖµÂ∫´Áúå",
            "city": "Ë±äÂ≤°Â∏ÇÂüéÂ¥éÁî∫",
            "category": "Ê∏©Ê≥â",
            "tattoo_condition": "Áâπ„Å´Âà∂Èôê„Å™„Åó",
            "phone": "N/A",
            "official_url": "N/A",
            "source_type": "ÂÖ¨Âºè",
            "user_reported": false
          },
          {
            "name": "ÁôΩÈ¶¨ÂÖ´ÊñπÊ∏©Ê≥â ÂÖ´Êñπ„ÅÆÊπØ",
            "prefecture": "Èï∑ÈáéÁúå",
            "city": "ÂåóÂÆâÊõáÈÉ°ÁôΩÈ¶¨Êùë",
            "category": "Ê∏©Ê≥â",
            "tattoo_condition": "Áâπ„Å´Âà∂Èôê„Å™„Åó",
            "phone": "N/A",
            "official_url": "N/A",
            "source_type": "ÂÖ¨Âºè",
            "user_reported": false
          },
          {
            "name": "„Åæ„Çì„Å†„ÇâÊπØ",
            "prefecture": "ÂÖµÂ∫´Áúå",
            "city": "Ë±äÂ≤°Â∏ÇÂüéÂ¥éÁî∫",
            "category": "Ê∏©Ê≥â",
            "tattoo_condition": "Áâπ„Å´Âà∂Èôê„Å™„Åó",
            "phone": "N/A",
            "official_url": "N/A",
            "source_type": "ÂÖ¨Âºè",
            "user_reported": false
          },
          {
            "name": "„Ç§„Éº„Çπ„Éà„É©„É≥„Éâ",
            "prefecture": "Êù±‰∫¨ÈÉΩ",
            "city": "Ê±üÊà∏Â∑ùÂå∫",
            "category": "Èä≠ÊπØ",
            "tattoo_condition": "Áâπ„Å´Âà∂Èôê„Å™„Åó",
            "phone": "N/A",
            "official_url": "N/A",
            "source_type": "ÂÖ¨Âºè",
            "user_reported": false
          },
          {
            "name": "„Åä„Åµ„Çç„ÇÑÂíåÂÖâ(ÂíåÂÖâÊµ¥Â†¥)",
            "prefecture": "Â§ßÈò™Â∫ú",
            "city": "Â§ßÈò™Â∏ÇË•øÊàêÂå∫",
            "category": "Èä≠ÊπØ",
            "tattoo_condition": "Áâπ„Å´Âà∂Èôê„Å™„Åó",
            "phone": "N/A",
            "official_url": "N/A",
            "source_type": "ÂÖ¨Âºè",
            "user_reported": false
          },
          {
            "name": "Â∏ÇÂñ∂Âè£ÂùÇÊú¨Ê∏©Ê≥âÊµ¥Â†¥",
            "prefecture": "ÈùôÂ≤°Áúå",
            "city": "ÈùôÂ≤°Â∏ÇËëµÂå∫",
            "category": "Ê∏©Ê≥â",
            "tattoo_condition": "Áâπ„Å´Âà∂Èôê„Å™„Åó",
            "phone": "N/A",
            "official_url": "N/A",
            "source_type": "ÂÖ¨Âºè",
            "user_reported": false
          },
          {
            "name": "Êü≥ÊπØ",
            "prefecture": "ÂÖµÂ∫´Áúå",
            "city": "Ë±äÂ≤°Â∏ÇÂüéÂ¥éÁî∫",
            "category": "Ê∏©Ê≥â",
            "tattoo_condition": "Áâπ„Å´Âà∂Èôê„Å™„Åó",
            "phone": "N/A",
            "official_url": "N/A",
            "source_type": "ÂÖ¨Âºè",
            "user_reported": false
          },
          {
            "name": "ÊúàË¶ãÊπØÊ∏©Ê≥â",
            "prefecture": "Êù±‰∫¨ÈÉΩ",
            "city": "‰∏ñÁî∞Ë∞∑Âå∫",
            "category": "Èä≠ÊπØ",
            "tattoo_condition": "Áâπ„Å´Âà∂Èôê„Å™„Åó",
            "phone": "N/A",
            "official_url": "N/A",
            "source_type": "ÂÖ¨Âºè",
            "user_reported": false
          },
          {
            "name": "ÈÅì„ÅÆÈßÖÂ∞èË∞∑ Ê∑±Â±±„ÅÆÊπØ",
            "prefecture": "Èï∑ÈáéÁúå",
            "city": "ÂåóÂÆâÊõáÈÉ°Â∞èË∞∑Êùë",
            "category": "Ê∏©Ê≥â",
            "tattoo_condition": "Áâπ„Å´Âà∂Èôê„Å™„Åó",
            "phone": "N/A",
            "official_url": "N/A",
            "source_type": "ÂÖ¨Âºè",
            "user_reported": false
          },
          {
            "name": "Ëñ¨ÊπØ Â∏ÇÂéüÂ∫ó (Êóß:ÂÜÖÊàøËñ¨ÊπØÂÅ•Â∫∑„Çª„É≥„Çø„Éº)",
            "prefecture": "ÂçÉËëâÁúå",
            "city": "Â∏ÇÂéüÂ∏Ç",
            "category": "„Çπ„Éº„Éë„ÉºÈä≠ÊπØ",
            "tattoo_condition": "Áâπ„Å´Âà∂Èôê„Å™„Åó",
            "phone": "N/A",
            "official_url": "N/A",
            "source_type": "ÂÖ¨Âºè",
            "user_reported": false
          },
          {
            "name": "‰∏ä‰πã‰øùÊ∏©Ê≥â „Åª„Åª„Åà„Åø„ÅÆÊπØ",
            "prefecture": "Â≤êÈòúÁúå",
            "city": "Èñ¢Â∏ÇÊ¥ûÊà∏Â∞èÂùÇ",
            "category": "Ê∏©Ê≥â",
            "tattoo_condition": "Áâπ„Å´Âà∂Èôê„Å™„Åó",
            "phone": "N/A",
            "official_url": "N/A",
            "source_type": "ÂÖ¨Âºè",
            "user_reported": false
          },
          {
            "name": "ÁôΩÂ±±ÊπØ ÂÖ≠Êù°Â∫ó",
            "prefecture": "‰∫¨ÈÉΩÂ∫ú",
            "city": "‰∫¨ÈÉΩÂ∏Ç‰∏ã‰∫¨Âå∫",
            "category": "Èä≠ÊπØ",
            "tattoo_condition": "Áâπ„Å´Âà∂Èôê„Å™„Åó",
            "phone": "N/A",
            "official_url": "N/A",
            "source_type": "ÂÖ¨Âºè",
            "user_reported": false
          },
          {
            "name": "Â§ö‰ºé„ÅÑ„Å°„Åò„ÅèÊ∏©Ê≥â",
            "prefecture": "Â≥∂Ê†πÁúå",
            "city": "Âá∫Èõ≤Â∏ÇÂ§ö‰ºéÁî∫",
            "category": "Ê∏©Ê≥â",
            "tattoo_condition": "Áâπ„Å´Âà∂Èôê„Å™„Åó",
            "phone": "N/A",
            "official_url": "N/A",
            "source_type": "ÂÖ¨Âºè",
            "user_reported": false
          },
          {
            "name": "ÁÄ¨Êà∏„ÅÆÊπØ",
            "prefecture": "Â∫ÉÂ≥∂Áúå",
            "city": "Â∫ÉÂ≥∂Â∏Ç‰∏≠Âå∫",
            "category": "Èä≠ÊπØ",
            "tattoo_condition": "Áâπ„Å´Âà∂Èôê„Å™„Åó",
            "phone": "N/A",
            "official_url": "N/A",
            "source_type": "ÂÖ¨Âºè",
            "user_reported": false
          },
          {
            "name": "Êñá„ÅÆÊπØ",
            "prefecture": "ÂåóÊµ∑ÈÅì",
            "city": "Êú≠ÂπåÂ∏ÇË•øÂå∫",
            "category": "Èä≠ÊπØ",
            "tattoo_condition": "Áâπ„Å´Âà∂Èôê„Å™„Åó",
            "phone": "N/A",
            "official_url": "N/A",
            "source_type": "ÂÖ¨Âºè",
            "user_reported": false
          },
          {
            "name": "SAUNA OOO FUKUOKA",
            "prefecture": "Á¶èÂ≤°Áúå",
            "city": "Á¶èÂ≤°Â∏ÇÂçöÂ§öÂå∫",
            "category": "„Çµ„Ç¶„Éä",
            "tattoo_condition": "Áâπ„Å´Âà∂Èôê„Å™„Åó",
            "phone": "N/A",
            "official_url": "N/A",
            "source_type": "ÂÖ¨Âºè",
            "user_reported": false
          },
          {
            "name": "SAUNA Á´π ÔΩûtakeÔΩû",
            "prefecture": "Â§ßÂàÜÁúå",
            "city": "Â§ßÂàÜÂ∏Ç",
            "category": "„Çµ„Ç¶„Éä",
            "tattoo_condition": "Áâπ„Å´Âà∂Èôê„Å™„Åó",
            "phone": "N/A",
            "official_url": "N/A",
            "source_type": "ÂÖ¨Âºè",
            "user_reported": false
          },
          {
            "name": "AOU no MORIÔºà„Ç¢„Ç™„Ç¶„Éé„É¢„É™Ôºâ",
            "prefecture": "‰∏âÈáçÁúå",
            "city": "‰∏âÈáçÈÉ°Ëè∞ÈáéÁî∫",
            "category": "Ê∏©Ê≥â",
            "tattoo_condition": "Áâπ„Å´Âà∂Èôê„Å™„Åó",
            "phone": "N/A",
            "official_url": "N/A",
            "source_type": "ÂÖ¨Âºè",
            "user_reported": false
          },
          {
            "name": "„Åü„Å™„Åî„Åì„Çç„Çµ„Ç¶„Éä Oasis",
            "prefecture": "Êù±‰∫¨ÈÉΩ",
            "city": "Ë•øÂ§öÊë©ÈÉ°Ê™úÂéüÊùë",
            "category": "„Çµ„Ç¶„Éä",
            "tattoo_condition": "Áâπ„Å´Âà∂Èôê„Å™„Åó",
            "phone": "N/A",
            "official_url": "N/A",
            "source_type": "ÂÖ¨Âºè",
            "user_reported": false
          },
          {
            "name": "KURA SAUNA",
            "prefecture": "Ëå®ÂüéÁúå",
            "city": "ÁµêÂüéÂ∏Ç",
            "category": "„Çµ„Ç¶„Éä",
            "tattoo_condition": "Áâπ„Å´Âà∂Èôê„Å™„Åó",
            "phone": "N/A",
            "official_url": "N/A",
            "source_type": "ÂÖ¨Âºè",
            "user_reported": false
          },
          {
            "name": "THE CLASS.Ôºà‰ºöÂì°Âà∂„Çµ„Ç¶„ÉäÔºâ",
            "prefecture": "Êù±‰∫¨ÈÉΩ",
            "city": "Ê∏ãË∞∑Âå∫",
            "category": "„Çµ„Ç¶„Éä",
            "tattoo_condition": "Áâπ„Å´Âà∂Èôê„Å™„Åó",
            "phone": "N/A",
            "official_url": "N/A",
            "source_type": "ÂÖ¨Âºè",
            "user_reported": false
          },
          {
            "name": "„Å¨„Åã„Å®„ÇÜ„Åí",
            "prefecture": "‰∫¨ÈÉΩÂ∫ú",
            "city": "‰∫¨‰∏πÂæåÂ∏Ç",
            "category": "Ê∏©Ê≥â",
            "tattoo_condition": "Áâπ„Å´Âà∂Èôê„Å™„Åó",
            "phone": "N/A",
            "official_url": "N/A",
            "source_type": "ÂÖ¨Âºè",
            "user_reported": false
          },
          {
            "name": "A-SAUNA",
            "prefecture": "ÂåóÊµ∑ÈÅì",
            "city": "Êú≠ÂπåÂ∏Ç‰∏≠Â§ÆÂå∫",
            "category": "„Çµ„Ç¶„Éä",
            "tattoo_condition": "Áâπ„Å´Âà∂Èôê„Å™„Åó",
            "phone": "N/A",
            "official_url": "N/A",
            "source_type": "ÂÖ¨Âºè",
            "user_reported": false
          },
          {
            "name": "Re: PRIVATE SAUNA",
            "prefecture": "ÂçÉËëâÁúå",
            "city": "ËàπÊ©ãÂ∏Ç",
            "category": "„Çµ„Ç¶„Éä",
            "tattoo_condition": "Áâπ„Å´Âà∂Èôê„Å™„Åó",
            "phone": "N/A",
            "official_url": "N/A",
            "source_type": "ÂÖ¨Âºè",
            "user_reported": false
          },
          {
            "name": "„Å≤„Å®„Çä„Çµ„Ç¶„Éä„Éó„É©„Çπ",
            "prefecture": "Êù±‰∫¨ÈÉΩ",
            "city": "Ê∏ãË∞∑Âå∫",
            "category": "„Çµ„Ç¶„Éä",
            "tattoo_condition": "Áâπ„Å´Âà∂Èôê„Å™„Åó",
            "phone": "N/A",
            "official_url": "N/A",
            "source_type": "ÂÖ¨Âºè",
            "user_reported": false
          },
          {
            "name": "Â§∑Â∑ùÈ§ÉÂ≠ê„Å™„Åã„Åò„Åæ Âõ£Ê†óÂ∫ó / „Åé„Çá„ÅÜ„ÅñÊπØ",
            "prefecture": "‰∫¨ÈÉΩÂ∫ú",
            "city": "‰∫¨ÈÉΩÂ∏ÇÊù±Â±±Âå∫",
            "category": "„Çµ„Ç¶„Éä",
            "tattoo_condition": "Áâπ„Å´Âà∂Èôê„Å™„Åó",
            "phone": "N/A",
            "official_url": "N/A",
            "source_type": "ÂÖ¨Âºè",
            "user_reported": false
          },
          {
            "name": "Ledian Spa È∫ªÂ∏ÉÂçÅÁï™",
            "prefecture": "Êù±‰∫¨ÈÉΩ",
            "city": "Ê∏ØÂå∫",
            "category": "„Çµ„Ç¶„Éä",
            "tattoo_condition": "Áâπ„Å´Âà∂Èôê„Å™„Åó",
            "phone": "N/A",
            "official_url": "N/A",
            "source_type": "ÂÖ¨Âºè",
            "user_reported": false
          },
          {
            "name": "„Çµ„Ç¶„ÉäÁô∫ÈÅî",
            "prefecture": "Á¶èÂ≥∂Áúå",
            "city": "ÂçóÁõ∏È¶¨Â∏Ç",
            "category": "„Çµ„Ç¶„Éä",
            "tattoo_condition": "Áâπ„Å´Âà∂Èôê„Å™„Åó",
            "phone": "N/A",
            "official_url": "N/A",
            "source_type": "ÂÖ¨Âºè",
            "user_reported": false
          },
          {
            "name": "„Å≤„Å®„Çä„Çµ„Ç¶„Éä „É≠„Ç¶„É™„É•„Éº„É©„É≥„ÉâÂ∑ùÂ¥éÔºà‰ºöÂì°Âà∂Ôºâ",
            "prefecture": "Á•ûÂ•àÂ∑ùÁúå",
            "city": "Â∑ùÂ¥éÂ∏ÇÂ∑ùÂ¥éÂå∫",
            "category": "„Çµ„Ç¶„Éä",
            "tattoo_condition": "Áâπ„Å´Âà∂Èôê„Å™„Åó",
            "phone": "N/A",
            "official_url": "N/A",
            "source_type": "ÂÖ¨Âºè",
            "user_reported": false
          },
          {
            "name": "Â∫ÉÂ≥∂ÂÄãÂÆ§„Çµ„Ç¶„Éä LA„ÉªSPA",
            "prefecture": "Â∫ÉÂ≥∂Áúå",
            "city": "Â∫ÉÂ≥∂Â∏Ç‰∏≠Âå∫",
            "category": "„Çµ„Ç¶„Éä",
            "tattoo_condition": "Áâπ„Å´Âà∂Èôê„Å™„Åó",
            "phone": "N/A",
            "official_url": "N/A",
            "source_type": "ÂÖ¨Âºè",
            "user_reported": false
          },
          {
            "name": "sauna Êµ∑ kai",
            "prefecture": "Â∫ÉÂ≥∂Áúå",
            "city": "Â∫ÉÂ≥∂Â∏Ç‰∏≠Âå∫",
            "category": "„Çµ„Ç¶„Éä",
            "tattoo_condition": "Áâπ„Å´Âà∂Èôê„Å™„Åó",
            "phone": "N/A",
            "official_url": "N/A",
            "source_type": "ÂÖ¨Âºè",
            "user_reported": false
          }
        ];

        // Cloudflare KV„Åã„ÇâÊñΩË®≠„Éá„Éº„Çø„ÇíË™≠„ÅøËæº„ÇÄ
        async function loadFacilitiesFromStorage() {
            try {
                const response = await fetch(`${WORKER_URL}/facilities/get-all`);
                const result = await response.json();
                if (result.success && result.data) {
                    return result.data;
                }
            } catch (error) {
                console.error('Error loading facilities from Cloudflare KV:', error);
                // „Éï„Ç©„Éº„É´„Éê„ÉÉ„ÇØ: „É≠„Éº„Ç´„É´„Çπ„Éà„É¨„Éº„Ç∏„Åã„ÇâË™≠„ÅøËæº„ÇÄ
                try {
                    const stored = localStorage.getItem('tattooBathFacilities');
                    if (stored) {
                        return JSON.parse(stored);
                    }
                } catch (localError) {
                    console.error('Error loading facilities from local storage:', localError);
                }
            }
            return null;
        }

        // Cloudflare KV„Å´ÊñΩË®≠„Éá„Éº„Çø„Çí‰øùÂ≠ò
        async function saveFacilitiesToStorage(facilities) {
            try {
                // ÂêÑÊñΩË®≠„Éá„Éº„Çø„ÇíÂÄãÂà•„Å´KV„Å´‰øùÂ≠ò
                const promises = Object.entries(facilities).map(async ([facilityKey, facilityData]) => {
                    try {
                        const response = await fetch(`${WORKER_URL}/facilities/save`, {
                            method: 'POST',
                            headers: {
                                'Content-Type': 'application/json',
                            },
                            body: JSON.stringify({
                                facilityKey: facilityKey,
                                facilityData: facilityData
                            })
                        });
                        return await response.json();
                    } catch (error) {
                        console.error(`Error saving facility ${facilityKey}:`, error);
                        return null;
                    }
                });
                
                await Promise.all(promises);
                
                // „Éï„Ç©„Éº„É´„Éê„ÉÉ„ÇØ: „É≠„Éº„Ç´„É´„Çπ„Éà„É¨„Éº„Ç∏„Å´„ÇÇ‰øùÂ≠òÔºà„Éê„ÉÉ„ÇØ„Ç¢„ÉÉ„ÉóÔºâ
                try {
                    localStorage.setItem('tattooBathFacilities', JSON.stringify(facilities));
                } catch (localError) {
                    console.error('Error saving to local storage:', localError);
                }
            } catch (error) {
                console.error('Error saving facilities to Cloudflare KV:', error);
                // „Éï„Ç©„Éº„É´„Éê„ÉÉ„ÇØ: „É≠„Éº„Ç´„É´„Çπ„Éà„É¨„Éº„Ç∏„Å´‰øùÂ≠ò
                try {
                    localStorage.setItem('tattooBathFacilities', JSON.stringify(facilities));
                } catch (localError) {
                    console.error('Error saving to local storage:', localError);
                }
            }
        }

        // ÊñΩË®≠„Éá„Éº„Çø„Çí„Éû„Éº„Ç∏Ôºà„Éá„Éº„Çø„Éô„Éº„Çπ + „É≠„Éº„Ç´„É´„Çπ„Éà„É¨„Éº„Ç∏Ôºâ
        function mergeFacilityData(dbFacility, storedFacility) {
            if (!storedFacility) return dbFacility;
            
            // „Éá„Éº„Çø„Éô„Éº„Çπ„ÅÆÊÉÖÂ†±„ÇíÂÑ™ÂÖà„Åó„ÄÅ„É≠„Éº„Ç´„É´„Çπ„Éà„É¨„Éº„Ç∏„ÅÆË£úÂÆåÊÉÖÂ†±„ÇíËøΩÂä†
            return {
                ...dbFacility,
                // Google Maps API„Åã„ÇâÂèñÂæó„Åó„ÅüÊÉÖÂ†±„Åß‰∏äÊõ∏„ÅçÔºàÂ≠òÂú®„Åô„ÇãÂ†¥ÂêàÔºâ
                phone: storedFacility.phone || dbFacility.phone,
                hours: storedFacility.hours || null,
                price: storedFacility.price || null,
                official_url: storedFacility.official_url || dbFacility.official_url,
                lat: storedFacility.lat || null,
                lng: storedFacility.lng || null,
                place_id: storedFacility.place_id || null,
                google_data_updated: storedFacility.google_data_updated || null
            };
        }

        // Google Maps API„Åã„ÇâÊñΩË®≠ÊÉÖÂ†±„ÇíÂèñÂæó„Åô„ÇãÈñ¢Êï∞
        async function fetchFacilityDetailsFromGoogle(name, address) {
            try {
                console.log(`Searching for: ${name} at ${address}`);
                
                // Places API„ÅßÊñΩË®≠„ÇíÊ§úÁ¥¢
                const searchQuery = `${name} ${address}`;
                const searchUrl = `${WORKER_URL}/places/search?query=${encodeURIComponent(searchQuery)}`;
                console.log('Search URL:', searchUrl);
                
                const searchResponse = await fetch(searchUrl);
                
                if (!searchResponse.ok) {
                    let errorMessage = `Search API error: ${searchResponse.status} ${searchResponse.statusText}`;
                    try {
                        const errorData = await searchResponse.json();
                        console.error('Search API error response:', errorData);
                        if (errorData.error_message) {
                            errorMessage = errorData.error_message;
                        } else if (errorData.error) {
                            errorMessage = errorData.error;
                        } else if (errorData.details) {
                            errorMessage = errorData.details;
                        }
                        // „Ç®„É©„Éº„ÅÆË©≥Á¥∞ÊÉÖÂ†±„ÇÇÂê´„ÇÅ„Çã
                        if (errorData.full_response) {
                            console.error('Full error response:', errorData.full_response);
                            if (errorData.full_response.error_message) {
                                errorMessage = errorData.full_response.error_message;
                            }
                        }
                        // „Ç®„É©„Éº„É°„ÉÉ„Çª„Éº„Ç∏„Çí„Çà„ÇäË©≥Á¥∞„Å´
                        if (errorData.status) {
                            errorMessage = `[${errorData.status}] ${errorMessage}`;
                        }
                    } catch (e) {
                        const errorText = await searchResponse.text();
                        console.error('Error response text:', errorText);
                        errorMessage = errorText || errorMessage;
                    }
                    throw new Error(errorMessage);
                }
                
                const searchData = await searchResponse.json();
                console.log('Search response:', searchData);

                if (searchData.error) {
                    console.error('Search API returned error:', searchData.error);
                    throw new Error(searchData.error);
                }
                
                if (searchData.status && searchData.status !== 'OK' && searchData.status !== 'ZERO_RESULTS') {
                    console.error('Search API status error:', searchData.status, searchData.error_message);
                    throw new Error(searchData.error_message || `Places API error: ${searchData.status}`);
                }

                if (searchData.results && searchData.results.length > 0) {
                    const place = searchData.results[0];
                    const placeId = place.place_id;
                    console.log(`Found place: ${place.name}, place_id: ${placeId}`);

                    // Place Details API„ÅßË©≥Á¥∞ÊÉÖÂ†±„ÇíÂèñÂæó
                    const detailsUrl = `${WORKER_URL}/places/details?place_id=${placeId}`;
                    console.log('Details URL:', detailsUrl);
                    
                    const detailsResponse = await fetch(detailsUrl);
                    
                    if (!detailsResponse.ok) {
                        let errorMessage = `Details API error: ${detailsResponse.status} ${detailsResponse.statusText}`;
                        try {
                            const errorData = await detailsResponse.json();
                            console.error('Details API error response:', errorData);
                            if (errorData.error) {
                                errorMessage = errorData.error;
                            } else if (errorData.details) {
                                errorMessage = errorData.details;
                            }
                        } catch (e) {
                            const errorText = await detailsResponse.text();
                            console.error('Error response text:', errorText);
                            errorMessage = errorText || errorMessage;
                        }
                        throw new Error(errorMessage);
                    }
                    
                    const detailsData = await detailsResponse.json();
                    console.log('Details response:', detailsData);

                    if (detailsData.error) {
                        console.error('Details API returned error:', detailsData.error);
                        throw new Error(detailsData.error);
                    }
                    
                    if (detailsData.status && detailsData.status !== 'OK') {
                        console.error('Details API status error:', detailsData.status, detailsData.error_message);
                        throw new Error(detailsData.error_message || `Place Details API error: ${detailsData.status}`);
                    }

                    if (detailsData.result) {
                        const result = detailsData.result;
                        return {
                            hours: formatOpeningHours(result.opening_hours),
                            price: formatPriceLevel(result.price_level),
                            phone: result.formatted_phone_number || null,
                            website: result.website || null,
                            lat: place.geometry.location.lat,
                            lng: place.geometry.location.lng,
                            placeId: placeId
                        };
                    }
                }

                // Ê§úÁ¥¢„Å´Â§±Êïó„Åó„ÅüÂ†¥Âêà„ÅØGeocoding API„ÅßÂ∫ßÊ®ô„ÅÆ„ÅøÂèñÂæó
                console.log('Places search failed, trying geocoding...');
                const geocodeUrl = `${WORKER_URL}/geocode?address=${encodeURIComponent(address)}`;
                console.log('Geocode URL:', geocodeUrl);
                
                const geocodeResponse = await fetch(geocodeUrl);
                
                if (!geocodeResponse.ok) {
                    let errorMessage = `Geocode API error: ${geocodeResponse.status} ${geocodeResponse.statusText}`;
                    try {
                        const errorData = await geocodeResponse.json();
                        console.error('Geocode API error response:', errorData);
                        if (errorData.error) {
                            errorMessage = errorData.error;
                        } else if (errorData.details) {
                            errorMessage = errorData.details;
                        }
                    } catch (e) {
                        const errorText = await geocodeResponse.text();
                        console.error('Error response text:', errorText);
                        errorMessage = errorText || errorMessage;
                    }
                    throw new Error(errorMessage);
                }
                
                const geocodeData = await geocodeResponse.json();
                console.log('Geocode response:', geocodeData);

                if (geocodeData.error) {
                    console.error('Geocode API returned error:', geocodeData.error);
                    throw new Error(geocodeData.error);
                }

                if (geocodeData.status && geocodeData.status !== 'OK') {
                    console.error('Geocode API status error:', geocodeData.status, geocodeData.error_message);
                    throw new Error(geocodeData.error_message || `Geocode API error: ${geocodeData.status}`);
                }

                if (geocodeData.results && geocodeData.results.length > 0) {
                    const location = geocodeData.results[0].geometry.location;
                    console.log(`Found coordinates: lat=${location.lat}, lng=${location.lng}`);
                    return {
                        hours: null,
                        price: null,
                        phone: null,
                        website: null,
                        lat: location.lat,
                        lng: location.lng,
                        placeId: null
                    };
                }

                throw new Error('No results found');
            } catch (error) {
                console.error('Error fetching facility details:', error);
                throw error;
            }
        }

        // Âñ∂Ê•≠ÊôÇÈñì„Çí„Éï„Ç©„Éº„Éû„ÉÉ„Éà
        function formatOpeningHours(openingHours) {
            if (!openingHours || !openingHours.weekday_text) {
                return null;
            }

            // ‰ªäÊó•„ÅÆÊõúÊó•„ÇíÂèñÂæó
            const today = new Date().getDay();
            const days = ['Êó•', 'Êúà', 'ÁÅ´', 'Ê∞¥', 'Êú®', 'Èáë', 'Âúü'];
            const todayText = days[today];

            // ‰ªäÊó•„ÅÆÂñ∂Ê•≠ÊôÇÈñì„ÇíÊé¢„Åô
            for (const text of openingHours.weekday_text) {
                if (text.includes(todayText)) {
                    return text;
                }
            }

            // Ë¶ã„Å§„Åã„Çâ„Å™„ÅÑÂ†¥Âêà„ÅØÊúÄÂàù„ÅÆË°å„ÇíËøî„Åô
            return openingHours.weekday_text[0];
        }

        // ÊñôÈáë„É¨„Éô„É´„Çí„Éï„Ç©„Éº„Éû„ÉÉ„Éà
        function formatPriceLevel(priceLevel) {
            if (priceLevel === undefined || priceLevel === null) {
                return null;
            }

            const priceMap = {
                0: 'ÁÑ°Êñô',
                1: 'Ôø• (ÂÆâ„ÅÑ)',
                2: 'Ôø•Ôø• (ÊôÆÈÄö)',
                3: 'Ôø•Ôø•Ôø• (È´ò„ÅÑ)',
                4: 'Ôø•Ôø•Ôø•Ôø• (ÈùûÂ∏∏„Å´È´ò„ÅÑ)'
            };

            return priceMap[priceLevel] || null;
        }

        // „Éá„Éº„Çø„Éô„Éº„Çπ„Çí„Ç¢„Éó„É™„ÅÆ„Éá„Éº„ÇøÊßãÈÄ†„Å´Â§âÊèõ
        const convertFacilityData = async (dbData) => {
            const converted = await Promise.all(dbData.map(async (facility, index) => {
                const address = `${facility.prefecture}${facility.city}`;
                
                // Google Maps API„Åã„ÇâÊÉÖÂ†±„ÇíÂèñÂæóÔºà„Éê„ÉÉ„ÉÅÂá¶ÁêÜ„ÅßÈÅÖÂª∂„ÇíÈÅø„Åë„ÇãÔºâ
                const googleData = await fetchFacilityDetailsFromGoogle(facility.name, address);
                
                return {
                    id: index + 1,
                    name: facility.name,
                    address: address,
                    prefecture: facility.prefecture,
                    area: facility.city,
                    phone: googleData?.phone || (facility.phone !== "N/A" ? facility.phone : null),
                    hours: googleData?.hours || null,
                    price: googleData?.price || null,
                    tattooOk: facility.tattoo_condition !== "Âà©Áî®‰∏çÂèØ" && facility.tattoo_condition !== "",
                    tattooCondition: facility.tattoo_condition,
                    description: `${facility.category}ÊñΩË®≠„ÄÇ${facility.tattoo_condition}`,
                    tags: [facility.category, facility.tattoo_condition !== "Áâπ„Å´Âà∂Èôê„Å™„Åó" ? facility.tattoo_condition : "Âà∫ÈùíOK"],
                    category: facility.category,
                    officialUrl: facility.official_url !== "N/A" ? facility.official_url : googleData?.website || null,
                    lat: googleData?.lat || 35.6812,
                    lng: googleData?.lng || 139.7671,
                    placeId: googleData?.placeId || null,
                    loadingGoogleData: false
                };
            }));

            return converted;
        };

        // ÊñΩË®≠„Éá„Éº„Çø„ÇíÂ§âÊèõÔºàÂàùÊúüÂåñÊôÇ„ÅØ„Éá„Éº„Çø„Éô„Éº„Çπ„ÅÆÊÉÖÂ†±„ÅÆ„Åø‰ΩøÁî®Ôºâ
        // Cloudflare KV„Åã„Çâ‰øùÂ≠òÊ∏à„Åø„Éá„Éº„Çø„ÅØÈùûÂêåÊúü„ÅßË™≠„ÅøËæº„ÇÄ
        const initialFacilities = facilitiesDatabase.map((facility, index) => {
            const facilityKey = `${facility.prefecture}_${facility.name}`;
            
            return {
                id: index + 1,
                name: facility.name,
                address: `${facility.prefecture}${facility.city}`,
                prefecture: facility.prefecture,
                area: facility.city,
                phone: facility.phone !== "N/A" ? facility.phone : null,
                hours: null, // Cloudflare KV„Åã„ÇâË™≠„ÅøËæº„ÇÄ
                price: null, // Cloudflare KV„Åã„ÇâË™≠„ÅøËæº„ÇÄ
                tattooOk: facility.tattoo_condition !== "Âà©Áî®‰∏çÂèØ" && facility.tattoo_condition !== "",
                tattooCondition: facility.tattoo_condition,
                description: `${facility.category}ÊñΩË®≠„ÄÇ${facility.tattoo_condition}`,
                tags: [facility.category, facility.tattoo_condition !== "Áâπ„Å´Âà∂Èôê„Å™„Åó" ? facility.tattoo_condition : "Âà∫ÈùíOK"],
                category: facility.category,
                officialUrl: facility.official_url !== "N/A" ? facility.official_url : null,
                lat: 35.6812, // Cloudflare KV„Åã„ÇâË™≠„ÅøËæº„ÇÄ
                lng: 139.7671, // Cloudflare KV„Åã„ÇâË™≠„ÅøËæº„ÇÄ
                placeId: null,
                loadingGoogleData: false,
                facilityKey: facilityKey // Cloudflare KVÁî®„ÅÆ„Ç≠„Éº
            };
        });

        // ÈÉΩÈÅìÂ∫úÁúå„É™„Çπ„Éà„Çí„Éá„Éº„Çø„Éô„Éº„Çπ„Åã„ÇâËá™ÂãïÊäΩÂá∫
        const prefecturesSet = new Set(facilitiesDatabase.map(f => f.prefecture));
        const prefectures = ["ÂÖ®ÂõΩ", ...Array.from(prefecturesSet).sort()];

        // „Ç´„ÉÜ„Ç¥„É™„É™„Çπ„Éà„ÇíÂèñÂæó
        const categoriesSet = new Set(facilitiesDatabase.map(f => f.category));
        const categories = ["„Åô„Åπ„Å¶", ...Array.from(categoriesSet).sort()];

        function App() {
            const [activeTab, setActiveTab] = useState('list');
            const [facilities, setFacilities] = useState(initialFacilities);
            const [filteredFacilities, setFilteredFacilities] = useState(initialFacilities);
            const [searchQuery, setSearchQuery] = useState('');
            const [selectedPrefecture, setSelectedPrefecture] = useState('ÂÖ®ÂõΩ');
            const [selectedCategory, setSelectedCategory] = useState('„Åô„Åπ„Å¶');
            const [tattooOnly, setTattooOnly] = useState(true);
            const [selectedFacility, setSelectedFacility] = useState(null);
            const [map, setMap] = useState(null);
            const [markers, setMarkers] = useState([]);
            const [loadingGoogleData, setLoadingGoogleData] = useState(false);
            const [googleDataCache, setGoogleDataCache] = useState({}); // ÂèñÂæóÊ∏à„Åø„Éá„Éº„Çø„ÅÆ„Ç≠„É£„ÉÉ„Ç∑„É•
            const [loadingStoredData, setLoadingStoredData] = useState(true); // Cloudflare KV„Åã„Çâ„ÅÆË™≠„ÅøËæº„Åø‰∏≠
            const [googleDataError, setGoogleDataError] = useState(null); // Google Maps API„ÅÆ„Ç®„É©„Éº

            // ÂàùÊúüÂåñÊôÇ„Å´Cloudflare KV„Åã„Çâ‰øùÂ≠òÊ∏à„Åø„Éá„Éº„Çø„ÇíË™≠„ÅøËæº„ÇÄ
            useEffect(() => {
                const loadStoredData = async () => {
                    try {
                        const storedData = await loadFacilitiesFromStorage();
                        if (storedData && Object.keys(storedData).length > 0) {
                            // ‰øùÂ≠òÊ∏à„Åø„Éá„Éº„Çø„ÇíÊñΩË®≠„É™„Çπ„Éà„Å´„Éû„Éº„Ç∏
                            setFacilities(prevFacilities => 
                                prevFacilities.map(facility => {
                                    const stored = storedData[facility.facilityKey];
                                    if (stored) {
                                        const dbFacility = facilitiesDatabase.find(db => `${db.prefecture}_${db.name}` === facility.facilityKey);
                                        if (dbFacility) {
                                            const merged = mergeFacilityData(dbFacility, stored);
                                            return {
                                                ...facility,
                                                hours: merged.hours || facility.hours,
                                                price: merged.price || facility.price,
                                                phone: merged.phone !== "N/A" ? merged.phone : facility.phone,
                                                officialUrl: merged.official_url !== "N/A" ? merged.official_url : facility.officialUrl,
                                                lat: merged.lat || facility.lat,
                                                lng: merged.lng || facility.lng,
                                                placeId: merged.place_id || facility.placeId
                                            };
                                        }
                                    }
                                    return facility;
                                })
                            );
                        }
                    } catch (error) {
                        console.error('Error loading stored data:', error);
                    } finally {
                        setLoadingStoredData(false);
                    }
                };

                loadStoredData();
            }, []); // ÂàùÂõû„ÅÆ„ÅøÂÆüË°å

            // ÊñΩË®≠„ÅÆË©≥Á¥∞ÊÉÖÂ†±„ÇíÂèñÂæó„Åô„ÇãÈñ¢Êï∞ÔºàË©≥Á¥∞ÁîªÈù¢„ÇíÈñã„ÅÑ„ÅüÊôÇ„Å´Âëº„Å≥Âá∫„ÅôÔºâ
            const fetchFacilityGoogleData = async (facility) => {
                // Êó¢„Å´ÂèñÂæóÊ∏à„Åø„ÅÆÂ†¥Âêà„ÅØ„Ç≠„É£„ÉÉ„Ç∑„É•„Åã„ÇâËøî„Åô
                if (facility.placeId && googleDataCache[facility.id]) {
                    return googleDataCache[facility.id];
                }

                // „Ç≠„É£„ÉÉ„Ç∑„É•„Å´„Å™„ÅÑÂ†¥Âêà„ÅØAPI„Åã„ÇâÂèñÂæó
                setLoadingGoogleData(true);
                
                let timeoutId = null;
                
                try {
                    console.log(`Fetching Google data for: ${facility.name} at ${facility.address}`);
                    
                    // „Çø„Ç§„É†„Ç¢„Ç¶„Éà„ÇíË®≠ÂÆöÔºà15ÁßíÔºâ
                    timeoutId = setTimeout(() => {
                        console.warn(`Timeout fetching Google data for ${facility.name}`);
                        setLoadingGoogleData(false);
                    }, 15000);
                    
                    const googleData = await fetchFacilityDetailsFromGoogle(facility.name, facility.address);
                    console.log('Google data received:', googleData);
                    
                    if (timeoutId) {
                        clearTimeout(timeoutId);
                        timeoutId = null;
                    }
                    
                    if (googleData) {
                        const updatedData = {
                            hours: googleData.hours || null,
                            price: googleData.price || null,
                            phone: googleData.phone || facility.phone,
                            officialUrl: googleData.website || facility.officialUrl,
                            lat: googleData.lat || facility.lat,
                            lng: googleData.lng || facility.lng,
                            placeId: googleData.placeId || null
                        };

                        // „Ç≠„É£„ÉÉ„Ç∑„É•„Å´‰øùÂ≠ò
                        setGoogleDataCache(prev => ({
                            ...prev,
                            [facility.id]: updatedData
                        }));

                        // ÊñΩË®≠„É™„Çπ„Éà„ÇÇÊõ¥Êñ∞ÔºàÂú∞Âõ≥Ë°®Á§∫Áî®Ôºâ
                        setFacilities(prevFacilities => 
                            prevFacilities.map(f => 
                                f.id === facility.id 
                                    ? { ...f, ...updatedData, loadingGoogleData: false }
                                    : f
                            )
                        );

                        // selectedFacility„ÇÇÊõ¥Êñ∞Ôºà„É¢„Éº„ÉÄ„É´Ë°®Á§∫Áî®Ôºâ
                        setSelectedFacility(prev => {
                            if (prev && prev.id === facility.id) {
                                return { ...prev, ...updatedData };
                            }
                            return prev;
                        });

                        // Cloudflare KV„Å´‰øùÂ≠òÔºà„Éá„Éº„Çø„Éô„Éº„Çπ„ÇíÂÖÖÂÆü„Åï„Åõ„ÇãÔºâ
                        try {
                            const facilityKey = facility.facilityKey || `${facility.prefecture}_${facility.name}`;
                            const storedData = await loadFacilitiesFromStorage() || {};
                            storedData[facilityKey] = {
                                ...storedData[facilityKey],
                                phone: updatedData.phone || storedData[facilityKey]?.phone,
                                hours: updatedData.hours || storedData[facilityKey]?.hours,
                                price: updatedData.price || storedData[facilityKey]?.price,
                                official_url: updatedData.officialUrl || storedData[facilityKey]?.official_url,
                                lat: updatedData.lat || storedData[facilityKey]?.lat,
                                lng: updatedData.lng || storedData[facilityKey]?.lng,
                                place_id: updatedData.placeId || storedData[facilityKey]?.place_id,
                                google_data_updated: new Date().toISOString()
                            };
                            await saveFacilitiesToStorage(storedData);
                        } catch (saveError) {
                            console.error('Error saving to storage:', saveError);
                            // ‰øùÂ≠ò„Ç®„É©„Éº„ÅØÁÑ°Ë¶ñ„Åó„Å¶Á∂öË°å
                        }

                        setLoadingGoogleData(false);
                        return updatedData;
                    } else {
                        console.warn(`No Google data found for ${facility.name}`);
                        setLoadingGoogleData(false);
                        setGoogleDataError('ÊñΩË®≠ÊÉÖÂ†±„ÅåË¶ã„Å§„Åã„Çä„Åæ„Åõ„Çì„Åß„Åó„Åü');
                    }
                } catch (error) {
                    console.error(`Error fetching Google data for ${facility.name}:`, error);
                    console.error('Error details:', error.message);
                    if (timeoutId) {
                        clearTimeout(timeoutId);
                    }
                    setLoadingGoogleData(false);
                    setGoogleDataError(error.message || 'ÊÉÖÂ†±„ÅÆÂèñÂæó„Å´Â§±Êïó„Åó„Åæ„Åó„Åü');
                }

                return null;
            };

            // Ê§úÁ¥¢„Å®„Éï„Ç£„É´„Çø„ÉºÂá¶ÁêÜ
            useEffect(() => {
                let filtered = facilities;

                // Âà∫ÈùíOK„Éï„Ç£„É´„Çø„Éº
                if (tattooOnly) {
                    filtered = filtered.filter(f => f.tattooOk);
                }

                // ÈÉΩÈÅìÂ∫úÁúå„Éï„Ç£„É´„Çø„Éº
                if (selectedPrefecture !== 'ÂÖ®ÂõΩ') {
                    filtered = filtered.filter(f => f.prefecture === selectedPrefecture);
                }

                // „Ç´„ÉÜ„Ç¥„É™„Éï„Ç£„É´„Çø„Éº
                if (selectedCategory !== '„Åô„Åπ„Å¶') {
                    filtered = filtered.filter(f => f.category === selectedCategory);
                }

                // Ê§úÁ¥¢„ÇØ„Ç®„É™„Éï„Ç£„É´„Çø„Éº
                if (searchQuery.trim()) {
                    const query = searchQuery.toLowerCase();
                    filtered = filtered.filter(f => 
                        f.name.toLowerCase().includes(query) ||
                        f.address.toLowerCase().includes(query) ||
                        f.area.toLowerCase().includes(query) ||
                        f.tags.some(tag => tag.toLowerCase().includes(query)) ||
                        f.category.toLowerCase().includes(query)
                    );
                }

                setFilteredFacilities(filtered);
            }, [facilities, searchQuery, selectedPrefecture, selectedCategory, tattooOnly]);

            // Âú∞Âõ≥„ÅÆÂàùÊúüÂåñÔºàGoogle Maps API„ÅåË™≠„ÅøËæº„Åæ„Çå„Åü„ÇâÔºâ
            useEffect(() => {
                if (activeTab === 'map') {
                    // Google Maps API„Åå„Åæ„Å†Ë™≠„ÅøËæº„Åæ„Çå„Å¶„ÅÑ„Å™„ÅÑÂ†¥Âêà„ÅØË™≠„ÅøËæº„ÇÄ
                    if (!window.google) {
                        // Cloudflare WorkersÁµåÁî±„ÅßAPI„ÇíË™≠„ÅøËæº„ÇÄ
                        if (typeof window.loadGoogleMaps === 'function') {
                            window.loadGoogleMaps();
                        } else {
                            console.error('loadGoogleMaps function not found');
                        }
                    } else {
                        // Êó¢„Å´Ë™≠„ÅøËæº„Åæ„Çå„Å¶„ÅÑ„ÇãÂ†¥Âêà„ÅØ„Åô„Åê„Å´ÂàùÊúüÂåñ
                        setTimeout(() => initMap(), 100);
                    }
                }
            }, [activeTab, filteredFacilities]);

            // Google Maps API„ÅåË™≠„ÅøËæº„Åæ„Çå„Åü„Å®„Åç„ÅÆ„Ç§„Éô„É≥„Éà„É™„Çπ„Éä„Éº
            useEffect(() => {
                const handleGoogleMapsLoaded = () => {
                    if (activeTab === 'map') {
                        setTimeout(() => initMap(), 100);
                    }
                };
                
                window.addEventListener('googleMapsLoaded', handleGoogleMapsLoaded);
                
                // Êó¢„Å´Ë™≠„ÅøËæº„Åæ„Çå„Å¶„ÅÑ„ÇãÂ†¥Âêà
                if (window.google) {
                    handleGoogleMapsLoaded();
                }
                
                return () => {
                    window.removeEventListener('googleMapsLoaded', handleGoogleMapsLoaded);
                };
            }, [activeTab]);

            // „É¢„Éº„ÉÄ„É´ÂÜÖ„ÅÆÂú∞Âõ≥ÂàùÊúüÂåñÔºàÂ∫ßÊ®ô„ÅåÂèñÂæóÊ∏à„Åø„ÅÆÂ†¥Âêà„ÅÆ„ÅøÔºâ
            useEffect(() => {
                if (selectedFacility && window.google && selectedFacility.lat && selectedFacility.lng && 
                    selectedFacility.lat !== 35.6812 && selectedFacility.lng !== 139.7671) {
                    // „É¢„Éº„ÉÄ„É´„ÅåË°®Á§∫„Åï„Çå„ÅüÂæå„Å´Âú∞Âõ≥„ÇíÂàùÊúüÂåñ
                    setTimeout(() => {
                        const mapElement = document.getElementById('modal-map');
                        if (mapElement) {
                            const modalMap = new window.google.maps.Map(mapElement, {
                                zoom: 15,
                                center: { lat: selectedFacility.lat, lng: selectedFacility.lng }
                            });

                            new window.google.maps.Marker({
                                position: { lat: selectedFacility.lat, lng: selectedFacility.lng },
                                map: modalMap,
                                title: selectedFacility.name
                            });
                        }
                    }, 100);
                }
            }, [selectedFacility]);

            const initMap = () => {
                if (!window.google) {
                    console.warn('Google Maps API„ÅåË™≠„ÅøËæº„Åæ„Çå„Å¶„ÅÑ„Åæ„Åõ„Çì');
                    return;
                }

                const mapElement = document.getElementById('map');
                if (!mapElement) return;

                const center = filteredFacilities.length > 0 
                    ? { lat: filteredFacilities[0].lat, lng: filteredFacilities[0].lng }
                    : { lat: 35.6812, lng: 139.7671 }; // Êù±‰∫¨ÈßÖ„Çí„Éá„Éï„Ç©„É´„Éà

                const newMap = new window.google.maps.Map(mapElement, {
                    zoom: filteredFacilities.length === 1 ? 15 : 10,
                    center: center,
                    styles: [
                        {
                            featureType: "poi",
                            elementType: "labels",
                            stylers: [{ visibility: "off" }]
                        }
                    ]
                });

                // Êó¢Â≠ò„ÅÆ„Éû„Éº„Ç´„Éº„Çí„ÇØ„É™„Ç¢
                markers.forEach(marker => marker.setMap(null));

                // Êñ∞„Åó„ÅÑ„Éû„Éº„Ç´„Éº„Çí‰ΩúÊàê
                const newMarkers = filteredFacilities.map(facility => {
                    const marker = new window.google.maps.Marker({
                        position: { lat: facility.lat, lng: facility.lng },
                        map: newMap,
                        title: facility.name,
                        icon: {
                            url: 'https://maps.google.com/mapfiles/ms/icons/red-dot.png'
                        }
                    });

                    marker.addListener('click', () => {
                        setSelectedFacility(facility);
                    });

                    return marker;
                });

                setMap(newMap);
                setMarkers(newMarkers);

                // Ë§áÊï∞„ÅÆÊñΩË®≠„Åå„ÅÇ„ÇãÂ†¥Âêà„ÅØ„ÄÅ„Åô„Åπ„Å¶„ÅåË°®Á§∫„Åï„Çå„Çã„Çà„ÅÜ„Å´„Ç∫„Éº„É†Ë™øÊï¥
                if (filteredFacilities.length > 1) {
                    const bounds = new window.google.maps.LatLngBounds();
                    filteredFacilities.forEach(f => {
                        bounds.extend({ lat: f.lat, lng: f.lng });
                    });
                    newMap.fitBounds(bounds);
                }
            };

            // Ê§úÁ¥¢ÂÆüË°å
            const handleSearch = () => {
                // useEffect„ÅßËá™ÂãïÁöÑ„Å´„Éï„Ç£„É´„Çø„É™„É≥„Ç∞„Åï„Çå„Çã
            };

            // ÊñΩË®≠„Ç´„Éº„Éâ„ÇØ„É™„ÉÉ„ÇØ
            const handleFacilityClick = async (facility) => {
                setSelectedFacility(facility);
                setLoadingGoogleData(false); // „É™„Çª„ÉÉ„Éà
                
                // Ë©≥Á¥∞ÁîªÈù¢„ÇíÈñã„ÅÑ„ÅüÊôÇ„Å´„ÄÅ‰∏çË∂≥„Åó„Å¶„ÅÑ„ÇãÊÉÖÂ†±„Åå„ÅÇ„Çå„Å∞Google Maps API„Åã„ÇâÂèñÂæó
                // Âñ∂Ê•≠ÊôÇÈñì„ÄÅÊñôÈáë„ÄÅÂ∫ßÊ®ô„Å™„Å©„Åå‰∏çË∂≥„Åó„Å¶„ÅÑ„ÇãÂ†¥Âêà„ÅÆ„ÅøÂèñÂæó
                const needsGoogleData = !facility.hours || !facility.price || 
                                       !facility.placeId || 
                                       (facility.lat === 35.6812 && facility.lng === 139.7671);
                
                if (needsGoogleData && !googleDataCache[facility.id]) {
                    console.log(`Fetching Google data for facility: ${facility.name}`);
                    await fetchFacilityGoogleData(facility);
                }
            };

            // „É¢„Éº„ÉÄ„É´„ÇíÈñâ„Åò„Çã
            const closeModal = () => {
                setSelectedFacility(null);
                setLoadingGoogleData(false);
                setGoogleDataError(null);
            };

            return (
                <div>
                    {/* „Éò„ÉÉ„ÉÄ„Éº */}
                    <div className="header">
                        <h1>üõÅ Âà∫ÈùíOK ÂÖ•Êµ¥ÊñΩË®≠Ê§úÁ¥¢</h1>
                        <p>ÂÆâÂøÉ„Åó„Å¶Âà©Áî®„Åß„Åç„ÇãÊñΩË®≠„ÇíË¶ã„Å§„Åë„Çà„ÅÜ</p>
                    </div>

                    {/* Ê§úÁ¥¢„Ç®„É™„Ç¢ */}
                    <div className="search-area">
                        <div className="search-box">
                            <input
                                type="text"
                                className="search-input"
                                placeholder="ÊñΩË®≠Âêç„ÄÅ‰ΩèÊâÄ„ÄÅ„Ç®„É™„Ç¢„ÅßÊ§úÁ¥¢..."
                                value={searchQuery}
                                onChange={(e) => setSearchQuery(e.target.value)}
                                onKeyPress={(e) => e.key === 'Enter' && handleSearch()}
                            />
                            <button className="search-button" onClick={handleSearch}>
                                Ê§úÁ¥¢
                            </button>
                        </div>
                        <div className="filter-section">
                            <button
                                className={`filter-button ${tattooOnly ? 'active' : ''}`}
                                onClick={() => setTattooOnly(!tattooOnly)}
                            >
                                {tattooOnly ? '‚úì Âà∫ÈùíOK„ÅÆ„Åø' : 'Âà∫ÈùíOK„ÅÆ„Åø'}
                            </button>
                            {categories.map(cat => (
                                <button
                                    key={cat}
                                    className={`filter-button ${selectedCategory === cat ? 'active' : ''}`}
                                    onClick={() => setSelectedCategory(cat)}
                                >
                                    {cat}
                                </button>
                            ))}
                            {prefectures.map(pref => (
                                <button
                                    key={pref}
                                    className={`filter-button ${selectedPrefecture === pref ? 'active' : ''}`}
                                    onClick={() => setSelectedPrefecture(pref)}
                                >
                                    {pref}
                                </button>
                            ))}
                        </div>
                    </div>

                    {/* „Çø„Éñ */}
                    <div className="tabs">
                        <button
                            className={`tab ${activeTab === 'list' ? 'active' : ''}`}
                            onClick={() => setActiveTab('list')}
                        >
                            „É™„Çπ„Éà ({filteredFacilities.length})
                        </button>
                        <button
                            className={`tab ${activeTab === 'map' ? 'active' : ''}`}
                            onClick={() => setActiveTab('map')}
                        >
                            Âú∞Âõ≥
                        </button>
                    </div>

                    {/* „É™„Çπ„Éà„Çø„Éñ */}
                    {activeTab === 'list' && (
                        <div className="facilities-list">
                            {filteredFacilities.length === 0 ? (
                                <div className="empty-state">
                                    <div className="empty-state-icon">üîç</div>
                                    <div className="empty-state-text">
                                        Êù°‰ª∂„Å´Âêà„ÅÜÊñΩË®≠„ÅåË¶ã„Å§„Åã„Çä„Åæ„Åõ„Çì„Åß„Åó„Åü
                                    </div>
                                </div>
                            ) : (
                                filteredFacilities.map(facility => (
                                    <div
                                        key={facility.id}
                                        className="facility-card"
                                        onClick={() => handleFacilityClick(facility)}
                                    >
                                        <div className="facility-header">
                                            <div>
                                                <div className="facility-name">{facility.name}</div>
                                                <div className="facility-info">
                                                    <div className="facility-info-item">
                                                        üìç {facility.address}
                                                    </div>
                                                    {facility.phone && (
                                                        <div className="facility-info-item">
                                                            üìû {facility.phone}
                                                        </div>
                                                    )}
                                                    <div className="facility-info-item">
                                                        üè∑Ô∏è {facility.category}
                                                    </div>
                                                    {facility.hours && (
                                                        <div className="facility-info-item">
                                                            üïê {facility.hours}
                                                        </div>
                                                    )}
                                                    {facility.price && (
                                                        <div className="facility-info-item">
                                                            üí∞ {facility.price}
                                                        </div>
                                                    )}
                                                    <div className="facility-info-item">
                                                        ‚úì {facility.tattooCondition}
                                                    </div>
                                                </div>
                                            </div>
                                            {facility.tattooOk && (
                                                <span className="tattoo-badge">Âà∫ÈùíOK</span>
                                            )}
                                        </div>
                                        <div className="facility-tags">
                                            {facility.tags.map((tag, idx) => (
                                                <span key={idx} className="tag">{tag}</span>
                                            ))}
                                        </div>
                                    </div>
                                ))
                            )}
                        </div>
                    )}

                    {/* Âú∞Âõ≥„Çø„Éñ */}
                    {activeTab === 'map' && (
                        <div className="map-container">
                            <div id="map" style={{ width: '100%', height: '100%' }}></div>
                        </div>
                    )}

                    {/* ÊñΩË®≠Ë©≥Á¥∞„É¢„Éº„ÉÄ„É´ */}
                    {selectedFacility && (
                        <div className="modal-overlay" onClick={closeModal}>
                            <div className="modal-content" onClick={(e) => e.stopPropagation()}>
                                <button className="modal-close" onClick={closeModal}>√ó</button>
                                <div className="modal-title">
                                    {selectedFacility.name}
                                    {selectedFacility.tattooOk && (
                                        <span className="tattoo-badge" style={{ marginLeft: '10px' }}>
                                            Âà∫ÈùíOK
                                        </span>
                                    )}
                                </div>

                                {loadingGoogleData && (
                                    <div className="modal-section">
                                        <div className="modal-section-content" style={{ textAlign: 'center', color: '#4a90e2', fontSize: '14px' }}>
                                            üì° Google Maps„Åã„ÇâÊÉÖÂ†±„ÇíÂèñÂæó‰∏≠...<br/>
                                            <span style={{ fontSize: '12px', color: '#999' }}>ÔºàÊúÄÂ§ß15ÁßíÔºâ</span>
                                        </div>
                                    </div>
                                )}

                                {googleDataError && !loadingGoogleData && (
                                    <div className="modal-section">
                                        <div className="modal-section-content" style={{ textAlign: 'center', color: '#ff6b6b', fontSize: '12px', padding: '10px', background: '#fff5f5', borderRadius: '8px', marginBottom: '10px' }}>
                                            ‚ö†Ô∏è {googleDataError}<br/>
                                            <span style={{ fontSize: '11px', color: '#999' }}>„Éñ„É©„Ç¶„Ç∂„ÅÆ„Ç≥„É≥„ÇΩ„Éº„É´ÔºàF12Ôºâ„ÅßË©≥Á¥∞„ÇíÁ¢∫Ë™ç„Åß„Åç„Åæ„Åô</span>
                                        </div>
                                    </div>
                                )}
                                
                                <div className="modal-section">
                                    <div className="modal-section-title">üìç ‰ΩèÊâÄ</div>
                                    <div className="modal-section-content">{selectedFacility.address}</div>
                                </div>

                                {selectedFacility.phone && (
                                    <div className="modal-section">
                                        <div className="modal-section-title">üìû ÈõªË©±Áï™Âè∑</div>
                                        <div className="modal-section-content">{selectedFacility.phone}</div>
                                    </div>
                                )}

                                {selectedFacility.hours ? (
                                    <div className="modal-section">
                                        <div className="modal-section-title">üïê Âñ∂Ê•≠ÊôÇÈñì</div>
                                        <div className="modal-section-content">{selectedFacility.hours}</div>
                                    </div>
                                ) : loadingGoogleData ? (
                                    <div className="modal-section">
                                        <div className="modal-section-title">üïê Âñ∂Ê•≠ÊôÇÈñì</div>
                                        <div className="modal-section-content" style={{ color: '#999' }}>
                                            ÂèñÂæó‰∏≠...
                                        </div>
                                    </div>
                                ) : null}

                                {selectedFacility.price ? (
                                    <div className="modal-section">
                                        <div className="modal-section-title">üí∞ ÊñôÈáë</div>
                                        <div className="modal-section-content">{selectedFacility.price}</div>
                                    </div>
                                ) : loadingGoogleData ? (
                                    <div className="modal-section">
                                        <div className="modal-section-title">üí∞ ÊñôÈáë</div>
                                        <div className="modal-section-content" style={{ color: '#999' }}>
                                            ÂèñÂæó‰∏≠...
                                        </div>
                                    </div>
                                ) : null}

                                <div className="modal-section">
                                    <div className="modal-section-title">üñãÔ∏è Âà∫Èùí„ÅÆÊù°‰ª∂</div>
                                    <div className="modal-section-content">{selectedFacility.tattooCondition}</div>
                                </div>

                                <div className="modal-section">
                                    <div className="modal-section-title">üìù Ë™¨Êòé</div>
                                    <div className="modal-section-content">{selectedFacility.description}</div>
                                </div>

                                {selectedFacility.officialUrl && (
                                    <div className="modal-section">
                                        <div className="modal-section-title">üåê ÂÖ¨Âºè„Çµ„Ç§„Éà</div>
                                        <div className="modal-section-content">
                                            <a href={selectedFacility.officialUrl} target="_blank" rel="noopener noreferrer" style={{ color: '#4a90e2', textDecoration: 'underline', wordBreak: 'break-all' }}>
                                                {selectedFacility.officialUrl}
                                            </a>
                                        </div>
                                    </div>
                                )}

                                <div className="modal-section">
                                    <div className="modal-section-title">üè∑Ô∏è „Çø„Ç∞</div>
                                    <div className="facility-tags">
                                        {selectedFacility.tags.map((tag, idx) => (
                                            <span key={idx} className="tag">{tag}</span>
                                        ))}
                                    </div>
                                </div>

                                {window.google && (
                                    <div className="modal-section">
                                        <div className="modal-section-title">üó∫Ô∏è Âú∞Âõ≥</div>
                                        <div
                                            id="modal-map"
                                            className="modal-map"
                                        ></div>
                                    </div>
                                )}
                            </div>
                        </div>
                    )}

                    {/* „Éï„ÉÉ„Çø„Éº */}
                    <div className="footer">
                        Âà∫ÈùíOK„ÅÆÂÖ•Êµ¥ÊñΩË®≠„ÇíÂÆâÂøÉ„Åó„Å¶Êé¢„Åõ„Åæ„Åô üõÅ<br/>
                        ÊÉÖÂ†±„ÅØÊúÄÊñ∞„ÅÆ„ÇÇ„ÅÆ„Åß„ÅØ„Å™„ÅÑÂ†¥Âêà„Åå„ÅÇ„Çä„Åæ„Åô„ÄÇ‰∫ãÂâç„Å´„ÅîÁ¢∫Ë™ç„Åè„Å†„Åï„ÅÑ„ÄÇ
                    </div>
                </div>
            );
        }

        // Cloudflare WorkersÁµåÁî±„ÅßGoogle Maps API„ÇíË™≠„ÅøËæº„ÇÄÈñ¢Êï∞
        // API„Ç≠„Éº„ÅØ„Çµ„Éº„Éê„ÉºÂÅ¥„ÅßÁÆ°ÁêÜ„Åï„Çå„Çã„Åü„ÇÅ„ÄÅ„ÇØ„É©„Ç§„Ç¢„É≥„Éà„Å´„ÅØÂÖ¨Èñã„Åï„Çå„Å™„ÅÑ
        window.loadGoogleMaps = () => {
            if (window.google) return; // Êó¢„Å´Ë™≠„ÅøËæº„Åæ„Çå„Å¶„ÅÑ„ÇãÂ†¥Âêà„ÅØ„Çπ„Ç≠„ÉÉ„Éó
            
            if (WORKER_URL === 'YOUR_WORKER_URL') {
                console.warn('Cloudflare Workers URL„ÅåË®≠ÂÆö„Åï„Çå„Å¶„ÅÑ„Åæ„Åõ„Çì„ÄÇWORKER_URL„ÇíË®≠ÂÆö„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ');
                return;
            }
            
            console.log('Loading Google Maps API via Cloudflare Workers...');
            const script = document.createElement('script');
            script.src = `${WORKER_URL}?callback=initMap&libraries=places`;
            script.async = true;
            script.defer = true;
            script.onerror = () => {
                console.error('Google Maps API„ÅÆË™≠„ÅøËæº„Åø„Å´Â§±Êïó„Åó„Åæ„Åó„Åü„ÄÇCloudflare Workers„ÅÆË®≠ÂÆö„ÇíÁ¢∫Ë™ç„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ');
            };
            script.onload = () => {
                console.log('Google Maps API script loaded');
            };
            document.head.appendChild(script);
        };

        // Google Maps API„ÅÆ„Ç≥„Éº„É´„Éê„ÉÉ„ÇØ
        // API„ÅåË™≠„ÅøËæº„Åæ„Çå„Åü„Å®„Åç„Å´Âëº„Å∞„Çå„Çã
        window.initMap = () => {
            // Âú∞Âõ≥„ÅåË™≠„ÅøËæº„Åæ„Çå„Åü„Åì„Å®„ÇíÁ§∫„Åô„Éï„É©„Ç∞„ÇíË®≠ÂÆö
            window.googleMapsLoaded = true;
            
            // „Ç´„Çπ„Çø„É†„Ç§„Éô„É≥„Éà„ÇíÁô∫ÁÅ´„Åó„Å¶„ÄÅReact„Ç≥„É≥„Éù„Éº„Éç„É≥„Éà„Å´ÈÄöÁü•
            window.dispatchEvent(new Event('googleMapsLoaded'));
        };

        ReactDOM.render(<App />, document.getElementById('root'));
    </script>
</body>

</html>

